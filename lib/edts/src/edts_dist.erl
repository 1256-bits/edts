%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% @doc edts code to deal with distribution.
%%% @end
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%_* Module declaration =======================================================
-module(edts_dist).

%%%_* Exports ==================================================================

%% API
-export([connect_all/0]).

%%%_* Includes =================================================================

%%%_* Defines ==================================================================

%%%_* Types ====================================================================

%%%_* API ======================================================================

%%------------------------------------------------------------------------------
%% @doc
%% Pings all nodes registered with the local epmd, so that connections are
%% established.
%% @end
-spec connect_all() -> ok.
%%------------------------------------------------------------------------------
connect_all() ->
    {ok, Hostname} = inet:gethostname(),
    {ok, Nodes}    = net_adm:names(),
    lists:foreach(fun({Name, _Port}) ->
                          net_adm:ping(list_to_atom(Name ++ "@" ++ Hostname))
                  end,
                  Nodes).

%%%_* Internal functions =======================================================

